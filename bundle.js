!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t);var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"addListenerToEvents",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.forEach((function(t){return e.addEventListener(t,n,o)}))}},{key:"removeListenerToEvents",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.forEach((function(t){return e.removeEventListener(t,n,o)}))}}],(n=null)&&o(t.prototype,n),r&&o(t,r),e}();function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"showHideAlarmContent",value:function(t){var n=t.target,o=e.getAncestorWithClass(n,"hide-control");if(o){o.show=!o.show,o.setAttribute("data-show",o.repeat?o.show?"max":"false":o.show?"true":"false");var r=e.getAncestorWithClass(o,"clock-container");if(r){r.setAttribute("data-show",o.show?"true":"false");var a=e.getShowDetailsFromGrandParent(o);a&&a.setAttribute("data-rotate",o.show?"true":"false")}}}},{key:"getAncestorWithClass",value:function(e,t){if(!(e&&e.tagName&&e.className&&e.parentElement))return null;for(;"body"!==e.tagName.toLowerCase();){if(e.className===t)return e;e=e.parentElement}return null}},{key:"getShowDetailsFromGrandParent",value:function(t){var n=e.getChildWithClass(t,"hide-button");return n?e.getChildWithClass(n,"show-details"):null}},{key:"getChildWithClass",value:function(e,t){if(!e||!e.children)return null;for(var n=e.children,o=Object.keys(n),r=0;r<o.length;r+=1){var a=n[o[r]].className;if(a===t||a&&a.baseVal===t)return n[o[r]]}return null}},{key:"onOffSwitch",value:function(t){var n=t.target,o="on-off"===n.className?n:e.getAncestorWithClass(n,"on-off");o&&(o.on=!o.on,e.changeOnOffButtonStatus(o,o.on?"on":"off"))}},{key:"changeOnOffButtonStatus",value:function(e,t){if(e&&t){var n=e.parentElement&&e.parentElement.parentElement;n&&n.setAttribute("data-status",t)}}},{key:"deleteAlarm",value:function(t){var n=t.target,o=e.getAncestorWithClass(n,"clock-container");o&&window.confirm("Are you sure of deleting this clock?")&&o.parentElement.removeChild(o)}},{key:"updateClockName",value:function(t){var n=t.target,o=e.getAncestorWithClass(n,"hide-control");if(o){var r=e.getClockNameFromAncestor(o);r&&(r.innerText=n.value)}}},{key:"getClockNameFromAncestor",value:function(t){var n=e.getChildWithClass(t,"hide-button");return n?e.getChildWithClass(n,"clock-name-minimized"):null}},{key:"handleRepeatSelection",value:function(t){var n=t.target,o=e.getAncestorWithClass(n,"hide-control");o&&(o.repeat=!o.repeat,o.setAttribute("data-repeat",o.repeat?"true":"false"),o.setAttribute("data-show",o.repeat?o.show?"all":"false":o.show?"min":"false"))}},{key:"handleDaySelection",value:function(t){var n=t.target;if(n){n.selected=!n.selected,n.setAttribute("data-selected",n.selected?"true":"false");var o=e.getDaysNameMinimizedElement(n);if(o){var r=e.getDaysString(n.parentElement);o.innerText=r}}}},{key:"getDaysString",value:function(e){var t=e.children;if(!t)return"";var n=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return"true"===e.getAttribute("data-selected")}));return 7===n.length?"EVERY DAY":n.map((function(e){return e.innerText})).join(", ")}},{key:"getDaysNameMinimizedElement",value:function(t){var n=e.getAncestorWithClass(t,"hide-control");if(!n)return null;var o=e.getChildWithClass(n,"hide-button");return o?e.getChildWithClass(o,"days-name-minimized"):null}},{key:"addSlideEffect",value:function(t,n){var o=a(t.children,1)[0];if(o&&"slider"===o.className){r.addListenerToEvents(window,["mousemove","touchmove"],u,{passive:!0}),e.removeSlideEffect.handleSlideEvent=u;var i=window.getComputedStyle(o.parentElement),s=parseInt(i.width,10),c=parseInt(i.borderRightWidth,10),l=parseInt(window.getComputedStyle(o).width,10);o.maxOffsetX=s-l-2*c,o.startScreenX=void 0===n.clientX?n.touches[0].clientX:n.clientX,o.startOffsetX=parseInt(window.getComputedStyle(o).marginLeft,10)||0,o.offsetX=o.startOffsetX,o.slided=!1,o.started=!0}function u(t){e.buttonSlide(o,t)}}},{key:"removeSlideEffect",value:function(t){r.removeListenerToEvents(window,["mousemove","touchmove"],e.removeSlideEffect.handleSlideEvent,{passive:!0});var n=a(t.children,1)[0];if(n&&n.started){var o=n.offsetX>n.maxOffsetX/2;n.slided||(o=!o),e.changeOnOffButtonStatus(t,o?"on":"off"),n.setAttribute("style","")}}},{key:"buttonSlide",value:function(t,n){var o=(void 0===n.clientX?n.touches[0]:n).clientX-t.startScreenX;e.slide(t,o)}},{key:"slide",value:function(t,n){if(t&&"number"==typeof n){if(!n)return;var o=t.startOffsetX+parseInt(n,10),r=o<0?0:o>=t.maxOffsetX?t.maxOffsetX:o;t.style.marginLeft="".concat(r,"px"),t.slided=!0,t.offsetX=r;var a=t.offsetX>t.maxOffsetX/2;e.changeOnOffButtonStatus(t.parentElement,a?"on":"off")}}},{key:"addDiscSelector",value:function(t,n){if(t&&n){r.addListenerToEvents(window,["mousemove","touchmove"],a),t.handleDiscSelectorMove=a;var o=t.parentElement.getBoundingClientRect();t.parentX=o.left+o.width/2,t.parentY=o.top+o.height/2,t.started=!0}function a(n){t.className.indexOf("hour-selector-disc")>=0?e.handleHourDiscMovement(t,n):e.handleMinuteDiscMovement(t,n)}}},{key:"removeDiscSelector",value:function(e){e&&e.started&&(r.removeListenerToEvents(window,["mousemove","touchmove"],e.handleDiscSelectorMove),e.started=!1)}},{key:"handleHourDiscMovement",value:function(t,n){var o=(void 0===n.clientX?n.touches[0]:n).clientX,r=(void 0===n.clientY?n.touches[0]:n).clientY,a=e.getAngle(t.parentX,t.parentY,o,r),i=e.formatAngleToHour(a),s=Math.round(i*(12/360))||12,c=t.parentElement.parentElement.parentElement;c.setAttribute("data-hour",s);var l=e.getChildWithClass(c,"time-container");e.getChildWithClass(l,"hour").innerText=s}},{key:"handleMinuteDiscMovement",value:function(t,n){var o=(void 0===n.clientX?n.touches[0]:n).clientX,r=(void 0===n.clientY?n.touches[0]:n).clientY,a=e.getAngle(t.parentX,t.parentY,o,r),i=e.formatAngleToHour(a),s=Math.round(i*(60/360)),c=60===s?0:s,l=t.parentElement.parentElement.parentElement;l.setAttribute("data-minute",c);var u=e.getChildWithClass(l,"time-container");e.getChildWithClass(u,"minute").innerText=c<10?"0".concat(c):c}},{key:"getAngle",value:function(e,t,n,o){var r=n-e,a=t-o,i=360/(2*Math.PI),s=Math.atan(Math.abs(a)/Math.abs(r))*i,c=r>=0&&a>=0?s:r<=0&&a>=0?90-s+90:r<=0&&a<=0?s+180:90-s+270;return Math.round(c)}},{key:"formatAngleToHour",value:function(e){return(360-e+90)%360}},{key:"handleSelectorDiscClick",value:function(t){r.addListenerToEvents(t,["mousedown","touchstart"],(function(n){e.addDiscSelector(t,n),t.parentElement.setAttribute("data-active","true"),e.handleMouseupAfterSelectorDiscMousedown(t)}))}},{key:"handleMouseupAfterSelectorDiscMousedown",value:function(t){r.addListenerToEvents(window,["mouseup","touchend"],(function n(){e.removeDiscSelector(t),t.parentElement.setAttribute("data-active","false"),e.enableDiscAnimation(t),r.removeListenerToEvents(window,["mouseup","touchend"],n)}))}},{key:"enableDiscAnimation",value:function(t){var n=e.getAncestorWithClass(t,"clock-settings");n.setAttribute("data-skip-animation","false"),n.setAttribute("data-select","minute")}},{key:"handleClockSettingsDone",value:function(t){var n=e.getAncestorWithClass(t,"clock-settings");n.setAttribute("data-select","hour");var o=n.getAttribute("data-hour"),r=n.getAttribute("data-minute"),a=n.getAttribute("data-am-pm"),i="".concat(o,":").concat(r<10?"0".concat(r):r),s=e.getAncestorWithClass(t,"clock-container"),c=e.getChildWithClass(s,"always-visible"),l=e.getChildWithClass(c,"time");e.getChildWithClass(l,"hour-minute").innerText=i,e.getChildWithClass(l,"am-pm").innerText=a.toUpperCase(),s.setAttribute("data-show-settings","false"),document.body.setAttribute("data-setting","false"),s.setAttribute("data-status","on")}},{key:"changeHourOnClockSettings",value:function(t,n){if(t){var o=parseInt(n,10);t.setAttribute("data-hour","".concat(n));var r=e.getChildWithClass(t,"time-container");if(r){var a=e.getChildWithClass(r,"hour");a&&(a.innerText="".concat(o))}}}},{key:"changeMinuteOnClockSettings",value:function(t,n){if(t){var o=parseInt(n,10);t.setAttribute("data-minute","".concat(n));var r=e.getChildWithClass(t,"time-container");if(r){var a=e.getChildWithClass(r,"minute");a&&(a.innerText=o<10?"0".concat(o):"".concat(o))}}}},{key:"playSong",value:function(t){if(t){var n=e.playSong.playingElement;n&&n.pause(),e.playSong.playingElement=t,t.load(),t.play()}}},{key:"pauseSong",value:function(){var t=e.playSong.playingElement;t&&(t.pause(),e.playSong.playingElement=null)}},{key:"addListScrollEffect",value:function(t,n){var o=(void 0===n.clientY?n.touches[0]:n).clientY;function a(n){e.handleListScroll(t,n)}t.startY=o,r.addListenerToEvents(window,["mousemove","touchmove"],a),r.addListenerToEvents(window,["mouseup","touchend"],(function e(){r.removeListenerToEvents(window,["mousemove","touchmove"],a),r.removeListenerToEvents(window,["mouseup","touchend"],e)}))}},{key:"handleListScroll",value:function(e,t){var n=(void 0===t.clientY?t.touches[0]:t).clientY-e.startY;e.scrollTo(0,n)}}],(n=null)&&i(t.prototype,n),o&&i(t,o),e}();function c(e){e.preventDefault()}document.querySelectorAll(".clock-container .hide-button").forEach((function(e){return e.addEventListener("click",s.showHideAlarmContent)})),document.querySelectorAll(".clock-container .on-off").forEach((function(e){r.addListenerToEvents(e,["mousedown","touchstart"],(function(t){s.addSlideEffect(e,t),r.addListenerToEvents(window,["mouseup","touchend"],(function t(){s.removeSlideEffect(e),r.removeListenerToEvents(window,["mouseup","touchend"],t)}))}))})),document.querySelectorAll(".clock-container .delete-field").forEach((function(e){return e.addEventListener("click",s.deleteAlarm)})),document.querySelectorAll(".clock-container .clock-name").forEach((function(e){return e.addEventListener("change",s.updateClockName)})),document.querySelectorAll(".clock-container .repeat").forEach((function(e){return e.addEventListener("click",s.handleRepeatSelection)})),document.querySelectorAll(".clock-container .day").forEach((function(e){return e.addEventListener("click",s.handleDaySelection)})),document.querySelectorAll(".clock-container .ringtone-list").forEach((function(e){r.addListenerToEvents(e,["mousedown","touchstart"],(function(t){return s.addListScrollEffect(e,t)}))})),document.querySelectorAll(".clock-container .hide-control .music").forEach((function(e){return e.addEventListener("click",(function(){var t=s.getAncestorWithClass(e,"clock-container"),n=s.getChildWithClass(t,"ringtones-wrapper"),o=s.getChildWithClass(n,"ringtones");document.body.addEventListener("touchmove",c,{passive:!1}),o.setAttribute("data-selected-song",t.getAttribute("data-selected-song")),t.setAttribute("data-show-ringtones","true"),document.body.setAttribute("data-setting","true")}))})),document.querySelectorAll(".clock-container .ringtones .ringtone-item").forEach((function(e){return e.addEventListener("click",(function(){var t,n,o=s.getAncestorWithClass(e,"ringtones"),r=(t=s.getChildWithClass(e,"song-name"),n=t.innerText.toLowerCase().split(" ").join("-").concat("-alarm"),document.querySelector(".".concat(n)));r?s.playSong(r):s.pauseSong(),o.setAttribute("data-selected-song",e.getAttribute("data-item-number")),o.setAttribute("data-selected-song-name",e.innerText)}))})),document.querySelectorAll(".clock-container .ringtones .ok").forEach((function(e){return e.addEventListener("click",(function(){var t=s.getAncestorWithClass(e,"clock-container"),n=s.getAncestorWithClass(e,"ringtones");document.body.removeEventListener("touchmove",c,{passive:!1}),t.setAttribute("data-selected-song",n.getAttribute("data-selected-song")),t.setAttribute("data-show-ringtones","false"),document.body.setAttribute("data-setting","false"),s.pauseSong();var o=s.getChildWithClass(t,"hide-control"),r=s.getChildWithClass(o,"hide-subject"),a=s.getChildWithClass(r,"song"),i=s.getChildWithClass(a,"music"),l=s.getChildWithClass(i,"song-name"),u=n.getAttribute("data-selected-song-name");l.innerText="none"===u.toLowerCase()?"Silent":u}))})),document.querySelectorAll(".clock-container .ringtones .cancel").forEach((function(e){return e.addEventListener("click",(function(){var t=s.getAncestorWithClass(e,"clock-container");document.body.removeEventListener("touchmove",c,{passive:!1}),t.setAttribute("data-show-ringtones","false"),document.body.setAttribute("data-setting","false"),s.pauseSong()}))})),document.querySelectorAll(".clock-container .ringtones-wrapper").forEach((function(e){return e.addEventListener("click",(function(t){if("ringtones-wrapper"===t.target.className){var n=s.getAncestorWithClass(e,"clock-container");document.body.removeEventListener("touchmove",c,{passive:!1}),n.setAttribute("data-show-ringtones","false"),document.body.setAttribute("data-setting","false"),s.pauseSong()}}))})),document.querySelectorAll(".clock-settings .hour-selector-disc").forEach(s.handleSelectorDiscClick),document.querySelectorAll(".clock-settings .minute-selector-disc").forEach((function(e){r.addListenerToEvents(e,["mousedown","touchstart"],(function(t){s.addDiscSelector(e,t),e.parentElement.setAttribute("data-active","true")})),r.addListenerToEvents(window,["mouseup","touchend"],(function(){s.removeDiscSelector(e),e.parentElement.setAttribute("data-active","false")}))})),document.querySelectorAll(".clock-settings .disc-container .am-button").forEach((function(e){e.addEventListener("click",(function(){return e.parentElement.parentElement.setAttribute("data-am-pm","am")}))})),document.querySelectorAll(".clock-settings .disc-container .pm-button").forEach((function(e){e.addEventListener("click",(function(){return e.parentElement.parentElement.setAttribute("data-am-pm","pm")}))})),document.querySelectorAll(".clock-settings .time-container .hour").forEach((function(e){e.addEventListener("click",(function(){var t=s.getAncestorWithClass(e,"clock-settings");t.setAttribute("data-select","hour"),t.setAttribute("data-skip-animation","false")}))})),document.querySelectorAll(".clock-settings .time-container .minute").forEach((function(e){e.addEventListener("click",(function(){var t=s.getAncestorWithClass(e,"clock-settings");t.setAttribute("data-select","minute"),t.setAttribute("data-skip-animation","false")}))})),document.querySelectorAll(".clock-container .always-visible .time").forEach((function(e){e.addEventListener("click",(function(){document.body.addEventListener("touchmove",c,{passive:!1}),e.parentElement.parentElement.setAttribute("data-show-settings","true"),document.body.setAttribute("data-setting","true")}))})),document.querySelectorAll(".settings-wrapper .clock-settings .done-container").forEach((function(e){e.addEventListener("click",(function(){document.body.removeEventListener("touchmove",c,{passive:!1}),s.handleClockSettingsDone(e)}))})),document.querySelectorAll(".settings-wrapper").forEach((function(e){e.addEventListener("mousedown",(function(t){"settings-wrapper"===t.target.className&&(document.body.removeEventListener("touchmove",c,{passive:!1}),e.parentElement.setAttribute("data-show-settings","false"),document.body.setAttribute("data-setting","false"))}))})),document.querySelectorAll(".clock-settings .hour-disc .hour").forEach((function(e){var t=parseInt(e.innerText,10),n=s.getAncestorWithClass(e,"clock-settings");r.addListenerToEvents(e,["mousedown","touchstart"],(function(o){n.setAttribute("data-skip-animation","true"),s.changeHourOnClockSettings(n,t);var r=s.getAncestorWithClass(e,"hour-disc"),a=s.getChildWithClass(r,"hour-selector-disc");s.addDiscSelector(a,o),a.parentElement.setAttribute("data-active","true"),s.handleMouseupAfterSelectorDiscMousedown(a)}))})),document.querySelectorAll(".clock-settings .hour-disc .minute").forEach((function(e){var t=parseInt(e.innerText,10),n=s.getAncestorWithClass(e,"clock-settings");r.addListenerToEvents(e,["mousedown","touchstart"],(function(o){n.setAttribute("data-skip-animation","true"),s.changeMinuteOnClockSettings(n,t);var r=s.getAncestorWithClass(e,"hour-disc"),a=s.getChildWithClass(r,"minute-selector-disc");s.addDiscSelector(a,o),a.parentElement.setAttribute("data-active","true"),s.handleMouseupAfterSelectorDiscMousedown(a)}))}))}]);