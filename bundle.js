!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"addListenerToEvents",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.forEach((function(t){return e.addEventListener(t,n,r)}))}},{key:"removeListenerToEvents",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.forEach((function(t){return e.removeEventListener(t,n,r)}))}},{key:"isAncestor",value:function(e,t){if(!t||!e)return!1;for(var n=t.parentElement;n;n=n.parentElement)if(n===e)return!0;return!1}},{key:"nodeListToArray",value:function(e){return e&&e.length>0?Object.keys(e).map((function(t){return e[t]})):[]}},{key:"isDescendant",value:function(t,n){return e.isAncestor(n,t)}},{key:"filterAncestors",value:function(t,n){return e.nodeListToArray(n).filter((function(n){return e.isAncestor(n,t)}))}},{key:"filterDescendants",value:function(t,n){return e.nodeListToArray(n).filter((function(n){return e.isDescendant(n,t)}))}}],(n=null)&&r(t.prototype,n),o&&r(t,o),e}();function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"showHideAlarmContent",value:function(t){var n=t.target,r=o.filterAncestors(n,document.querySelectorAll(".hide-control"))[0];if(r){r.show=!r.show,r.setAttribute("data-show",r.repeat?r.show?"max":"false":r.show?"true":"false");var c=o.filterAncestors(r,document.querySelectorAll(".clock-container"))[0];if(c){c.setAttribute("data-show",r.show?"true":"false");var a=e.getShowDetailsFromGrandParent(r);a&&a.setAttribute("data-rotate",r.show?"true":"false")}}}},{key:"getShowDetailsFromGrandParent",value:function(e){return o.filterDescendants(e,document.querySelectorAll(".show-details"))[0]}},{key:"onOffSwitch",value:function(t){var n=t.target,r="on-off"===n.className?n:o.filterAncestors(n,document.querySelectorAll(".on-off"))[0];r&&(r.on=!r.on,e.changeOnOffButtonStatus(r,r.on?"on":"off"))}},{key:"changeOnOffButtonStatus",value:function(e,t){if(e&&t){var n=e.parentElement&&e.parentElement.parentElement;n&&n.setAttribute("data-status",t)}}},{key:"deleteAlarm",value:function(e){var t=e.target,n=o.filterAncestors(t,document.querySelectorAll(".clock-container"))[0];n&&window.confirm("Are you sure of deleting this clock?")&&n.parentElement.removeChild(n)}},{key:"updateClockName",value:function(t){var n=t.target,r=o.filterAncestors(n,document.querySelectorAll(".hide-control"))[0];if(r){var c=e.getClockNameFromAncestor(r);c&&(c.innerText=n.value)}}},{key:"getClockNameFromAncestor",value:function(e){return o.filterDescendants(e,document.querySelectorAll(".clock-name-minimized"))[0]}},{key:"handleRepeatSelection",value:function(e){var t=e.target,n=o.filterAncestors(t,document.querySelectorAll(".hide-control"))[0];n&&(n.repeat=!n.repeat,n.setAttribute("data-repeat",n.repeat?"true":"false"),n.setAttribute("data-show",n.repeat?n.show?"all":"false":n.show?"min":"false"))}},{key:"handleDaySelection",value:function(t){var n=t.target;if(n){n.selected=!n.selected,n.setAttribute("data-selected",n.selected?"true":"false");var r=e.getDaysNameMinimizedElement(n);if(r){var o=e.getDaysString(n.parentElement);r.innerText=o}}}},{key:"getDaysString",value:function(e){var t=e.children;if(!t)return"";var n=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return"true"===e.getAttribute("data-selected")}));return 7===n.length?"EVERY DAY":n.map((function(e){return e.innerText})).join(", ")}},{key:"getDaysNameMinimizedElement",value:function(e){var t=o.filterAncestors(e,document.querySelectorAll(".hide-control"))[0];return t?o.filterDescendants(t,document.querySelectorAll(".days-name-minimized"))[0]:null}},{key:"addSlideEffect",value:function(t,n){var r=c(t.children,1)[0];if(r&&"slider"===r.className){o.addListenerToEvents(window,["mousemove","touchmove"],s,{passive:!0}),e.removeSlideEffect.handleSlideEvent=s;var a=window.getComputedStyle(r.parentElement),i=parseInt(a.width,10),l=parseInt(a.borderRightWidth,10),u=parseInt(window.getComputedStyle(r).width,10);r.maxOffsetX=i-u-2*l,r.startScreenX=void 0===n.clientX?n.touches[0].clientX:n.clientX,r.startOffsetX=parseInt(window.getComputedStyle(r).marginLeft,10)||0,r.offsetX=r.startOffsetX,r.slided=!1,r.started=!0}function s(t){e.buttonSlide(r,t)}}},{key:"removeSlideEffect",value:function(t){o.removeListenerToEvents(window,["mousemove","touchmove"],e.removeSlideEffect.handleSlideEvent,{passive:!0});var n=c(t.children,1)[0];if(n&&n.started){var r=n.offsetX>n.maxOffsetX/2;n.slided||(r=!r),e.changeOnOffButtonStatus(t,r?"on":"off"),n.setAttribute("style","")}}},{key:"buttonSlide",value:function(t,n){var r=(void 0===n.clientX?n.touches[0]:n).clientX-t.startScreenX;e.slide(t,r)}},{key:"slide",value:function(t,n){if(t&&"number"==typeof n){if(!n)return;var r=t.startOffsetX+parseInt(n,10),o=r<0?0:r>=t.maxOffsetX?t.maxOffsetX:r;t.style.marginLeft="".concat(o,"px"),t.slided=!0,t.offsetX=o;var c=t.offsetX>t.maxOffsetX/2;e.changeOnOffButtonStatus(t.parentElement,c?"on":"off")}}},{key:"addDiscSelector",value:function(t,n){if(t&&n){o.addListenerToEvents(window,["mousemove","touchmove"],c),t.handleDiscSelectorMove=c;var r=t.parentElement.getBoundingClientRect();t.parentX=r.left+r.width/2,t.parentY=r.top+r.height/2,t.started=!0}function c(n){t.className.indexOf("hour-selector-disc")>=0?e.handleHourDiscMovement(t,n):e.handleMinuteDiscMovement(t,n)}}},{key:"removeDiscSelector",value:function(e){e&&e.started&&(o.removeListenerToEvents(window,["mousemove","touchmove"],e.handleDiscSelectorMove),e.started=!1)}},{key:"handleHourDiscMovement",value:function(t,n){var r=(void 0===n.clientX?n.touches[0]:n).clientX,c=(void 0===n.clientY?n.touches[0]:n).clientY,a=e.getAngle(t.parentX,t.parentY,r,c),i=e.formatAngleToHour(a),l=Math.round(i*(12/360))||12,u=t.parentElement.parentElement.parentElement;u.setAttribute("data-hour",l),o.filterDescendants(u,document.querySelectorAll(".hour"))[0].innerText=l}},{key:"handleMinuteDiscMovement",value:function(t,n){var r=(void 0===n.clientX?n.touches[0]:n).clientX,c=(void 0===n.clientY?n.touches[0]:n).clientY,a=e.getAngle(t.parentX,t.parentY,r,c),i=e.formatAngleToHour(a),l=Math.round(i*(60/360)),u=60===l?0:l,s=t.parentElement.parentElement.parentElement;s.setAttribute("data-minute",u),o.filterDescendants(s,document.querySelectorAll(".minute"))[0].innerText=u<10?"0".concat(u):u}},{key:"getAngle",value:function(e,t,n,r){var o=n-e,c=t-r,a=360/(2*Math.PI),i=Math.atan(Math.abs(c)/Math.abs(o))*a,l=o>=0&&c>=0?i:o<=0&&c>=0?90-i+90:o<=0&&c<=0?i+180:90-i+270;return Math.round(l)}},{key:"formatAngleToHour",value:function(e){return(360-e+90)%360}},{key:"handleSelectorDiscClick",value:function(t){o.addListenerToEvents(t,["mousedown","touchstart"],(function(n){e.addDiscSelector(t,n),t.parentElement.setAttribute("data-active","true"),e.handleMouseupAfterSelectorDiscMousedown(t)}))}},{key:"handleMouseupAfterSelectorDiscMousedown",value:function(t){o.addListenerToEvents(window,["mouseup","touchend"],(function n(){e.removeDiscSelector(t),t.parentElement.setAttribute("data-active","false"),e.enableDiscAnimation(t),o.removeListenerToEvents(window,["mouseup","touchend"],n)}))}},{key:"enableDiscAnimation",value:function(e){var t=o.filterAncestors(e,document.querySelectorAll(".clock-settings"))[0];t.setAttribute("data-skip-animation","false"),t.setAttribute("data-select","minute")}},{key:"handleClockSettingsDone",value:function(e){var t=o.filterAncestors(e,document.querySelectorAll(".clock-settings"))[0];t.setAttribute("data-select","hour");var n=t.getAttribute("data-hour"),r=t.getAttribute("data-minute"),c=t.getAttribute("data-am-pm"),a="".concat(n,":").concat(r<10?"0".concat(r):r),i=o.filterAncestors(e,document.querySelectorAll(".clock-container"))[0],l=o.filterDescendants(i,document.querySelectorAll(".time"))[0];o.filterDescendants(l,document.querySelectorAll(".hour-minute"))[0].innerText=a,o.filterDescendants(l,document.querySelectorAll(".am-pm"))[0].innerText=c.toUpperCase(),i.setAttribute("data-show-settings","false"),document.body.setAttribute("data-setting","false"),i.setAttribute("data-status","on")}},{key:"changeHourOnClockSettings",value:function(e,t){if(e){var n=parseInt(t,10);e.setAttribute("data-hour","".concat(t));var r=o.filterDescendants(e,document.querySelectorAll(".hour"))[0];r&&(r.innerText="".concat(n))}}},{key:"changeMinuteOnClockSettings",value:function(e,t){if(e){var n=parseInt(t,10);e.setAttribute("data-minute","".concat(t));var r=o.filterDescendants(e,document.querySelectorAll(".minute"))[0];r&&(r.innerText=n<10?"0".concat(n):"".concat(n))}}},{key:"playSong",value:function(t){if(t){var n=e.playSong.playingElement;n&&n.pause(),e.playSong.playingElement=t,t.load(),t.play()}}},{key:"pauseSong",value:function(){var t=e.playSong.playingElement;t&&(t.pause(),e.playSong.playingElement=null)}},{key:"addListScrollEffect",value:function(t,n){var r=(void 0===n.clientY?n.touches[0]:n).clientY;function c(n){e.handleListScroll(t,n)}t.startY=r+t.scrollTop,o.addListenerToEvents(window,["mousemove","touchmove"],c),o.addListenerToEvents(window,["mouseup","touchend"],(function e(){o.removeListenerToEvents(window,["mousemove","touchmove"],c),o.removeListenerToEvents(window,["mouseup","touchend"],e)}))}},{key:"handleListScroll",value:function(e,t){var n=(void 0===t.clientY?t.touches[0]:t).clientY,r=e.startY-n;e.scrollTop=r}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();function l(e){e.preventDefault()}function u(){document.body.setAttribute("data-layout",window.innerWidth>=730?"desktop":"phone")}document.querySelectorAll(".clock-container .hide-button").forEach((function(e){return e.addEventListener("click",i.showHideAlarmContent)})),document.querySelectorAll(".clock-container .on-off").forEach((function(e){o.addListenerToEvents(e,["mousedown","touchstart"],(function(t){i.addSlideEffect(e,t),o.addListenerToEvents(window,["mouseup","touchend"],(function t(){i.removeSlideEffect(e),o.removeListenerToEvents(window,["mouseup","touchend"],t)}))}))})),document.querySelectorAll(".clock-container .delete-field").forEach((function(e){return e.addEventListener("click",i.deleteAlarm)})),document.querySelectorAll(".clock-container .clock-name").forEach((function(e){return e.addEventListener("change",i.updateClockName)})),document.querySelectorAll(".clock-container .repeat").forEach((function(e){return e.addEventListener("click",i.handleRepeatSelection)})),document.querySelectorAll(".clock-container .day").forEach((function(e){return e.addEventListener("click",i.handleDaySelection)})),document.querySelectorAll(".clock-container .ringtone-list").forEach((function(e){o.addListenerToEvents(e,["mousedown","touchstart"],(function(t){return i.addListScrollEffect(e,t)}))})),document.querySelectorAll(".clock-container .hide-control .music").forEach((function(e){return e.addEventListener("click",(function(){var t=o.filterAncestors(e,document.querySelectorAll(".clock-container"))[0],n=o.filterDescendants(t,document.querySelectorAll(".ringtones"))[0];document.body.addEventListener("touchmove",l,{passive:!1}),n.setAttribute("data-selected-song",t.getAttribute("data-selected-song")),t.setAttribute("data-show-ringtones","true"),document.body.setAttribute("data-setting","true")}))})),document.querySelectorAll(".clock-container .ringtones .ringtone-item").forEach((function(e){return e.addEventListener("click",(function(){var t,n,r=o.filterAncestors(e,document.querySelectorAll(".ringtones"))[0],c=(t=o.filterDescendants(e,document.querySelectorAll(".song-name"))[0],n=t.innerText.toLowerCase().split(" ").join("-").concat("-alarm"),document.querySelector(".".concat(n)));c?i.playSong(c):i.pauseSong(),r.setAttribute("data-selected-song",e.getAttribute("data-item-number")),r.setAttribute("data-selected-song-name",e.innerText)}))})),document.querySelectorAll(".clock-container .ringtones .ok").forEach((function(e){return e.addEventListener("click",(function(){var t=o.filterAncestors(e,document.querySelectorAll(".clock-container"))[0],n=o.filterAncestors(e,document.querySelectorAll(".ringtones"))[0];document.body.removeEventListener("touchmove",l,{passive:!1}),t.setAttribute("data-selected-song",n.getAttribute("data-selected-song")),t.setAttribute("data-show-ringtones","false"),document.body.setAttribute("data-setting","false"),i.pauseSong();var r=o.filterDescendants(t,document.querySelectorAll(".song-name"))[0],c=n.getAttribute("data-selected-song-name");r.innerText="none"===c.toLowerCase()?"Silent":c}))})),document.querySelectorAll(".clock-container .ringtones .cancel").forEach((function(e){return e.addEventListener("click",(function(){var t=o.filterAncestors(e,document.querySelectorAll(".clock-container"))[0];document.body.removeEventListener("touchmove",l,{passive:!1}),t.setAttribute("data-show-ringtones","false"),document.body.setAttribute("data-setting","false"),i.pauseSong()}))})),document.querySelectorAll(".clock-container .ringtones-wrapper").forEach((function(e){return e.addEventListener("click",(function(t){if("ringtones-wrapper"===t.target.className){var n=o.filterAncestors(e,document.querySelectorAll(".clock-container"))[0];document.body.removeEventListener("touchmove",l,{passive:!1}),n.setAttribute("data-show-ringtones","false"),document.body.setAttribute("data-setting","false"),i.pauseSong()}}))})),document.querySelectorAll(".clock-settings .hour-selector-disc").forEach(i.handleSelectorDiscClick),document.querySelectorAll(".clock-settings .minute-selector-disc").forEach((function(e){o.addListenerToEvents(e,["mousedown","touchstart"],(function(t){i.addDiscSelector(e,t),e.parentElement.setAttribute("data-active","true")})),o.addListenerToEvents(window,["mouseup","touchend"],(function(){i.removeDiscSelector(e),e.parentElement.setAttribute("data-active","false")}))})),document.querySelectorAll(".clock-settings .disc-container .am-button").forEach((function(e){e.addEventListener("click",(function(){return e.parentElement.parentElement.setAttribute("data-am-pm","am")}))})),document.querySelectorAll(".clock-settings .disc-container .pm-button").forEach((function(e){e.addEventListener("click",(function(){return e.parentElement.parentElement.setAttribute("data-am-pm","pm")}))})),document.querySelectorAll(".clock-settings .time-container .hour").forEach((function(e){e.addEventListener("click",(function(){var t=o.filterAncestors(e,document.querySelectorAll(".clock-settings"))[0];t.setAttribute("data-select","hour"),t.setAttribute("data-skip-animation","false")}))})),document.querySelectorAll(".clock-settings .time-container .minute").forEach((function(e){e.addEventListener("click",(function(){var t=o.filterAncestors(e,document.querySelectorAll(".clock-settings"))[0];t.setAttribute("data-select","minute"),t.setAttribute("data-skip-animation","false")}))})),document.querySelectorAll(".clock-container .always-visible .time").forEach((function(e){e.addEventListener("click",(function(){document.body.addEventListener("touchmove",l,{passive:!1}),e.parentElement.parentElement.setAttribute("data-show-settings","true"),document.body.setAttribute("data-setting","true")}))})),document.querySelectorAll(".settings-wrapper .clock-settings .done-container").forEach((function(e){e.addEventListener("click",(function(){document.body.removeEventListener("touchmove",l,{passive:!1}),i.handleClockSettingsDone(e)}))})),document.querySelectorAll(".settings-wrapper").forEach((function(e){e.addEventListener("mousedown",(function(t){"settings-wrapper"===t.target.className&&(document.body.removeEventListener("touchmove",l,{passive:!1}),e.parentElement.setAttribute("data-show-settings","false"),document.body.setAttribute("data-setting","false"))}))})),document.querySelectorAll(".clock-settings .hour-disc .hour").forEach((function(e){var t=parseInt(e.innerText,10),n=o.filterAncestors(e,document.querySelectorAll(".clock-settings"))[0];o.addListenerToEvents(e,["mousedown","touchstart"],(function(r){n.setAttribute("data-skip-animation","true"),i.changeHourOnClockSettings(n,t);var c=o.filterAncestors(e,document.querySelectorAll(".hour-disc"))[0],a=o.filterDescendants(c,document.querySelectorAll(".hour-selector-disc"))[0];i.addDiscSelector(a,r),a.parentElement.setAttribute("data-active","true"),i.handleMouseupAfterSelectorDiscMousedown(a)}))})),document.querySelectorAll(".clock-settings .hour-disc .minute").forEach((function(e){var t=parseInt(e.innerText,10),n=o.filterAncestors(e,document.querySelectorAll(".clock-settings"))[0];o.addListenerToEvents(e,["mousedown","touchstart"],(function(r){n.setAttribute("data-skip-animation","true"),i.changeMinuteOnClockSettings(n,t);var c=o.filterAncestors(e,document.querySelectorAll(".hour-disc"))[0],a=o.filterDescendants(c,document.querySelectorAll(".minute-selector-disc"))[0];i.addDiscSelector(a,r),a.parentElement.setAttribute("data-active","true"),i.handleMouseupAfterSelectorDiscMousedown(a)}))})),document.querySelectorAll(".clock-container .hide-subject .clock-name").forEach((function(e){e.addEventListener("focus",(function(){function t(n){var r=n.key,o=n.keyCode;"Enter"!==r&&13!==o||(e.blur(),window.removeEventListener("keydown",t))}window.addEventListener("keydown",t),e.addEventListener("blur",(function(){window.removeEventListener("keydown",t)}))}))})),window.addEventListener("resize",u),u()}]);