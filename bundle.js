!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"addListenerToEvents",value:function(e,t,n){t.forEach((function(t){return e.addEventListener(t,n)}))}},{key:"removeListenerToEvents",value:function(e,t,n){t.forEach((function(t){return e.removeEventListener(t,n)}))}}],(n=null)&&r(t.prototype,n),a&&r(t,a),e}();function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"showHideAlarmContent",value:function(t){var n=t.target,r=e.getAncestorWithClass(n,"hide-control");if(r){r.show=!r.show,r.setAttribute("data-show",r.repeat?r.show?"max":"false":r.show?"true":"false");var a=e.getAncestorWithClass(r,"clock-container");if(a){a.setAttribute("data-show",r.show?"true":"false");var o=e.getShowDetailsFromGrandParent(r);o&&o.setAttribute("data-rotate",r.show?"true":"false")}}}},{key:"getAncestorWithClass",value:function(e,t){if(!(e&&e.tagName&&e.className&&e.parentElement))return null;for(;"body"!==e.tagName.toLowerCase();){if(e.className===t)return e;e=e.parentElement}return null}},{key:"getShowDetailsFromGrandParent",value:function(t){var n=e.getChildWithClass(t,"hide-button");return n?e.getChildWithClass(n,"show-details"):null}},{key:"getChildWithClass",value:function(e,t){if(!e||!e.children)return null;for(var n=e.children,r=Object.keys(n),a=0;a<r.length;a+=1){var o=n[r[a]].className;if(o===t||o&&o.baseVal===t)return n[r[a]]}return null}},{key:"onOffSwitch",value:function(t){var n=t.target,r="on-off"===n.className?n:e.getAncestorWithClass(n,"on-off");r&&(r.on=!r.on,e.changeOnOffButtonStatus(r,r.on?"on":"off"))}},{key:"changeOnOffButtonStatus",value:function(e,t){if(e&&t){var n=e.parentElement&&e.parentElement.parentElement;n&&n.setAttribute("data-status",t)}}},{key:"deleteAlarm",value:function(t){var n=t.target,r=e.getAncestorWithClass(n,"clock-container");r&&window.confirm("Are you sure of deleting this clock?")&&r.parentElement.removeChild(r)}},{key:"updateClockName",value:function(t){var n=t.target,r=e.getAncestorWithClass(n,"hide-control");if(r){var a=e.getClockNameFromAncestor(r);a&&(a.innerText=n.value)}}},{key:"getClockNameFromAncestor",value:function(t){var n=e.getChildWithClass(t,"hide-button");return n?e.getChildWithClass(n,"clock-name-minimized"):null}},{key:"handleRepeatSelection",value:function(t){var n=t.target,r=e.getAncestorWithClass(n,"hide-control");r&&(r.repeat=!r.repeat,r.setAttribute("data-repeat",r.repeat?"true":"false"),r.setAttribute("data-show",r.repeat?r.show?"all":"false":r.show?"min":"false"))}},{key:"handleDaySelection",value:function(t){var n=t.target;if(n){n.selected=!n.selected,n.setAttribute("data-selected",n.selected?"true":"false");var r=e.getDaysNameMinimizedElement(n);if(r){var a=e.getDaysString(n.parentElement);r.innerText=a}}}},{key:"getDaysString",value:function(e){var t=e.children;if(!t)return"";var n=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return"true"===e.getAttribute("data-selected")}));return 7===n.length?"EVERY DAY":n.map((function(e){return e.innerText})).join(", ")}},{key:"getDaysNameMinimizedElement",value:function(t){var n=e.getAncestorWithClass(t,"hide-control");if(!n)return null;var r=e.getChildWithClass(n,"hide-button");return r?e.getChildWithClass(r,"days-name-minimized"):null}},{key:"addSlideEffect",value:function(t,n){var r=o(t.children,1)[0];if(r&&"slider"===r.className){a.addListenerToEvents(window,["mousemove","touchmove"],u),e.removeSlideEffect.handleSlideEvent=u;var i=window.getComputedStyle(r.parentElement),c=parseInt(i.width,10),s=parseInt(i.borderRightWidth,10),l=parseInt(window.getComputedStyle(r).width,10);r.maxOffsetX=c-l-2*s,r.startScreenX=void 0===n.clientX?n.touches[0].clientX:n.clientX,r.startOffsetX=parseInt(window.getComputedStyle(r).marginLeft,10)||0,r.offsetX=r.startOffsetX,r.slided=!1,r.started=!0}function u(t){e.buttonSlide(r,t)}}},{key:"removeSlideEffect",value:function(t){a.removeListenerToEvents(window,["mousemove","touchmove"],e.removeSlideEffect.handleSlideEvent);var n=o(t.children,1)[0];if(n&&n.started){var r=n.offsetX>n.maxOffsetX/2;n.slided||(r=!r),e.changeOnOffButtonStatus(t,r?"on":"off"),n.setAttribute("style","")}}},{key:"buttonSlide",value:function(t,n){var r=(void 0===n.clientX?n.touches[0]:n).clientX-t.startScreenX;e.slide(t,r)}},{key:"slide",value:function(t,n){if(t&&"number"==typeof n){if(!n)return;var r=t.startOffsetX+parseInt(n,10),a=r<0?0:r>=t.maxOffsetX?t.maxOffsetX:r;t.style.marginLeft="".concat(a,"px"),t.slided=!0,t.offsetX=a;var o=t.offsetX>t.maxOffsetX/2;e.changeOnOffButtonStatus(t.parentElement,o?"on":"off")}}},{key:"addDiscSelector",value:function(t,n){if(t&&n){a.addListenerToEvents(window,["mousemove","touchmove"],o),t.handleDiscSelectorMove=o;var r=t.parentElement.getBoundingClientRect();t.parentX=r.left+r.width/2,t.parentY=r.top+r.height/2,t.started=!0}function o(n){t.className.indexOf("hour-selector-disc")>=0?e.handleHourDiscMovement(t,n):e.handleMinuteDiscMovement(t,n)}}},{key:"removeDiscSelector",value:function(e){e&&e.started&&(a.removeListenerToEvents(window,["mousemove","touchmove"],e.handleDiscSelectorMove),e.started=!1)}},{key:"handleHourDiscMovement",value:function(t,n){var r=(void 0===n.clientX?n.touches[0]:n).clientX,a=(void 0===n.clientY?n.touches[0]:n).clientY,o=e.getAngle(t.parentX,t.parentY,r,a),i=e.formatAngleToHour(o),c=Math.round(i*(12/360))||12,s=t.parentElement.parentElement.parentElement;s.setAttribute("data-hour",c);var l=e.getChildWithClass(s,"time-container");e.getChildWithClass(l,"hour").innerText=c}},{key:"handleMinuteDiscMovement",value:function(t,n){var r=(void 0===n.clientX?n.touches[0]:n).clientX,a=(void 0===n.clientY?n.touches[0]:n).clientY,o=e.getAngle(t.parentX,t.parentY,r,a),i=e.formatAngleToHour(o),c=Math.round(i*(60/360)),s=60===c?0:c,l=t.parentElement.parentElement.parentElement;l.setAttribute("data-minute",s);var u=e.getChildWithClass(l,"time-container");e.getChildWithClass(u,"minute").innerText=s<10?"0".concat(s):s}},{key:"getAngle",value:function(e,t,n,r){var a=n-e,o=t-r,i=360/(2*Math.PI),c=Math.atan(Math.abs(o)/Math.abs(a))*i,s=a>=0&&o>=0?c:a<=0&&o>=0?90-c+90:a<=0&&o<=0?c+180:90-c+270;return Math.round(s)}},{key:"formatAngleToHour",value:function(e){return(360-e+90)%360}},{key:"handleSelectorDiscClick",value:function(t){a.addListenerToEvents(t,["mousedown","touchstart"],(function(n){e.addDiscSelector(t,n),t.parentElement.setAttribute("data-active","true"),e.handleMouseupAfterSelectorDiscMousedown(t)}))}},{key:"handleMouseupAfterSelectorDiscMousedown",value:function(t){a.addListenerToEvents(window,["mouseup","touchend"],(function n(){e.removeDiscSelector(t),t.parentElement.setAttribute("data-active","false"),e.enableDiscAnimation(t),a.removeListenerToEvents(window,["mouseup","touchend"],n)}))}},{key:"enableDiscAnimation",value:function(t){var n=e.getAncestorWithClass(t,"clock-settings");n.setAttribute("data-skip-animation","false"),n.setAttribute("data-select","minute")}},{key:"handleClockSettingsDone",value:function(t){var n=e.getAncestorWithClass(t,"clock-settings");n.setAttribute("data-select","hour");var r=n.getAttribute("data-hour"),a=n.getAttribute("data-minute"),o=n.getAttribute("data-am-pm"),i="".concat(r,":").concat(a<10?"0".concat(a):a),c=e.getAncestorWithClass(t,"clock-container"),s=e.getChildWithClass(c,"always-visible"),l=e.getChildWithClass(s,"time");e.getChildWithClass(l,"hour-minute").innerText=i,e.getChildWithClass(l,"am-pm").innerText=o.toUpperCase(),c.setAttribute("data-show-settings","false"),document.body.setAttribute("data-setting","false"),c.setAttribute("data-status","on")}},{key:"changeHourOnClockSettings",value:function(t,n){if(t){var r=parseInt(n,10);t.setAttribute("data-hour","".concat(n));var a=e.getChildWithClass(t,"time-container");if(a){var o=e.getChildWithClass(a,"hour");o&&(o.innerText="".concat(r))}}}},{key:"changeMinuteOnClockSettings",value:function(t,n){if(t){var r=parseInt(n,10);t.setAttribute("data-minute","".concat(n));var a=e.getChildWithClass(t,"time-container");if(a){var o=e.getChildWithClass(a,"minute");o&&(o.innerText=r<10?"0".concat(r):"".concat(r))}}}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}();document.querySelectorAll(".clock-container .hide-button").forEach((function(e){return e.addEventListener("click",c.showHideAlarmContent)})),document.querySelectorAll(".clock-container .on-off").forEach((function(e){a.addListenerToEvents(e,["mousedown","touchstart"],(function(t){c.addSlideEffect(e,t),a.addListenerToEvents(window,["mouseup","touchend"],(function t(){c.removeSlideEffect(e),a.removeListenerToEvents(window,["mouseup","touchend"],t)}))}))})),document.querySelectorAll(".clock-container .delete-field").forEach((function(e){return e.addEventListener("click",c.deleteAlarm)})),document.querySelectorAll(".clock-container .clock-name").forEach((function(e){return e.addEventListener("change",c.updateClockName)})),document.querySelectorAll(".clock-container .repeat").forEach((function(e){return e.addEventListener("click",c.handleRepeatSelection)})),document.querySelectorAll(".clock-container .day").forEach((function(e){return e.addEventListener("click",c.handleDaySelection)})),document.querySelectorAll(".clock-container .hide-control .music").forEach((function(e){return e.addEventListener("click",(function(){var t=c.getAncestorWithClass(e,"clock-container"),n=c.getChildWithClass(t,"ringtones-wrapper");c.getChildWithClass(n,"ringtones").setAttribute("data-selected-song",t.getAttribute("data-selected-song")),t.setAttribute("data-show-ringtones","true"),document.body.setAttribute("data-setting","true")}))})),document.querySelectorAll(".clock-container .ringtones .ringtone-item").forEach((function(e){return e.addEventListener("click",(function(){var t=c.getAncestorWithClass(e,"ringtones");t.setAttribute("data-selected-song",e.getAttribute("data-item-number")),t.setAttribute("data-selected-song-name",e.innerText)}))})),document.querySelectorAll(".clock-container .ringtones .ok").forEach((function(e){return e.addEventListener("click",(function(){var t=c.getAncestorWithClass(e,"clock-container"),n=c.getAncestorWithClass(e,"ringtones");t.setAttribute("data-selected-song",n.getAttribute("data-selected-song")),t.setAttribute("data-show-ringtones","false"),document.body.setAttribute("data-setting","false");var r=c.getChildWithClass(t,"hide-control"),a=c.getChildWithClass(r,"hide-subject"),o=c.getChildWithClass(a,"song"),i=c.getChildWithClass(o,"music"),s=c.getChildWithClass(i,"song-name"),l=n.getAttribute("data-selected-song-name");s.innerText="none"===l.toLowerCase()?"Silent":l}))})),document.querySelectorAll(".clock-container .ringtones .cancel").forEach((function(e){return e.addEventListener("click",(function(){c.getAncestorWithClass(e,"clock-container").setAttribute("data-show-ringtones","false"),document.body.setAttribute("data-setting","false")}))})),document.querySelectorAll(".clock-container .ringtones-wrapper").forEach((function(e){return e.addEventListener("click",(function(t){"ringtones-wrapper"===t.target.className&&(c.getAncestorWithClass(e,"clock-container").setAttribute("data-show-ringtones","false"),document.body.setAttribute("data-setting","false"))}))})),document.querySelectorAll(".clock-settings .hour-selector-disc").forEach(c.handleSelectorDiscClick),document.querySelectorAll(".clock-settings .minute-selector-disc").forEach((function(e){a.addListenerToEvents(e,["mousedown","touchstart"],(function(t){c.addDiscSelector(e,t),e.parentElement.setAttribute("data-active","true")})),a.addListenerToEvents(window,["mouseup","touchend"],(function(){c.removeDiscSelector(e),e.parentElement.setAttribute("data-active","false")}))})),document.querySelectorAll(".clock-settings .disc-container .am-button").forEach((function(e){e.addEventListener("click",(function(){return e.parentElement.parentElement.setAttribute("data-am-pm","am")}))})),document.querySelectorAll(".clock-settings .disc-container .pm-button").forEach((function(e){e.addEventListener("click",(function(){return e.parentElement.parentElement.setAttribute("data-am-pm","pm")}))})),document.querySelectorAll(".clock-settings .time-container .hour").forEach((function(e){e.addEventListener("click",(function(){var t=c.getAncestorWithClass(e,"clock-settings");t.setAttribute("data-select","hour"),t.setAttribute("data-skip-animation","false")}))})),document.querySelectorAll(".clock-settings .time-container .minute").forEach((function(e){e.addEventListener("click",(function(){var t=c.getAncestorWithClass(e,"clock-settings");t.setAttribute("data-select","minute"),t.setAttribute("data-skip-animation","false")}))})),document.querySelectorAll(".clock-container .always-visible .time").forEach((function(e){e.addEventListener("click",(function(){e.parentElement.parentElement.setAttribute("data-show-settings","true"),document.body.setAttribute("data-setting","true")}))})),document.querySelectorAll(".settings-wrapper .clock-settings .done-container").forEach((function(e){e.addEventListener("click",(function(){return c.handleClockSettingsDone(e)}))})),document.querySelectorAll(".settings-wrapper").forEach((function(e){e.addEventListener("mousedown",(function(t){"settings-wrapper"===t.target.className&&(e.parentElement.setAttribute("data-show-settings","false"),document.body.setAttribute("data-setting","false"))}))})),document.querySelectorAll(".clock-settings .hour-disc .hour").forEach((function(e){var t=parseInt(e.innerText,10),n=c.getAncestorWithClass(e,"clock-settings");a.addListenerToEvents(e,["mousedown","touchstart"],(function(r){n.setAttribute("data-skip-animation","true"),c.changeHourOnClockSettings(n,t);var a=c.getAncestorWithClass(e,"hour-disc"),o=c.getChildWithClass(a,"hour-selector-disc");c.addDiscSelector(o,r),o.parentElement.setAttribute("data-active","true"),c.handleMouseupAfterSelectorDiscMousedown(o)}))})),document.querySelectorAll(".clock-settings .hour-disc .minute").forEach((function(e){var t=parseInt(e.innerText,10),n=c.getAncestorWithClass(e,"clock-settings");a.addListenerToEvents(e,["mousedown","touchstart"],(function(r){n.setAttribute("data-skip-animation","true"),c.changeMinuteOnClockSettings(n,t);var a=c.getAncestorWithClass(e,"hour-disc"),o=c.getChildWithClass(a,"minute-selector-disc");c.addDiscSelector(o,r),o.parentElement.setAttribute("data-active","true"),c.handleMouseupAfterSelectorDiscMousedown(o)}))}))}]);