!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"showHideAlarmContent",value:function(t){var n=t.target,r=e.getAncestorWithClass(n,"hide-control");if(r){r.show=!r.show,r.setAttribute("data-show",r.repeat?r.show?"max":"false":r.show?"true":"false");var a=e.getAncestorWithClass(r,"clock-container");if(a){a.setAttribute("data-show",r.show?"true":"false");var i=e.getShowDetailsFromGrandParent(r);i&&i.setAttribute("data-rotate",r.show?"true":"false")}}}},{key:"getAncestorWithClass",value:function(e,t){if(!(e&&e.tagName&&e.className&&e.parentElement))return null;for(;"body"!==e.tagName.toLowerCase();){if(e.className===t)return e;e=e.parentElement}return null}},{key:"getShowDetailsFromGrandParent",value:function(t){var n=e.getChildWithClass(t,"hide-button");return n?e.getChildWithClass(n,"show-details"):null}},{key:"getChildWithClass",value:function(e,t){if(!e||!e.children)return null;for(var n=e.children,r=Object.keys(n),a=0;a<r.length;a+=1){var i=n[r[a]].className;if(i===t||i&&i.baseVal===t)return n[r[a]]}return null}},{key:"onOffSwitch",value:function(t){var n=t.target,r="on-off"===n.className?n:e.getAncestorWithClass(n,"on-off");r&&(r.on=!r.on,e.changeOnOffButtonStatus(r,r.on?"on":"off"))}},{key:"changeOnOffButtonStatus",value:function(e,t){if(e&&t){var n=e.parentElement&&e.parentElement.parentElement;n&&n.setAttribute("data-status",t)}}},{key:"deleteAlarm",value:function(t){var n=t.target,r=e.getAncestorWithClass(n,"clock-container");r&&window.confirm("Are you sure of deleting this clock?")&&r.parentElement.removeChild(r)}},{key:"updateClockName",value:function(t){var n=t.target,r=e.getAncestorWithClass(n,"hide-control");if(r){var a=e.getClockNameFromAncestor(r);a&&(a.innerText=n.value)}}},{key:"getClockNameFromAncestor",value:function(t){var n=e.getChildWithClass(t,"hide-button");return n?e.getChildWithClass(n,"clock-name-minimized"):null}},{key:"handleRepeatSelection",value:function(t){var n=t.target,r=e.getAncestorWithClass(n,"hide-control");r&&(r.repeat=!r.repeat,r.setAttribute("data-repeat",r.repeat?"true":"false"),r.setAttribute("data-show",r.repeat?r.show?"all":"false":r.show?"min":"false"))}},{key:"handleDaySelection",value:function(t){var n=t.target;if(n){n.selected=!n.selected,n.setAttribute("data-selected",n.selected?"true":"false");var r=e.getDaysNameMinimizedElement(n);if(r){var a=e.getDaysString(n.parentElement);r.innerText=a}}}},{key:"getDaysString",value:function(e){var t=e.children;if(!t)return"";var n=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return"true"===e.getAttribute("data-selected")}));return 7===n.length?"EVERY DAY":n.map((function(e){return e.innerText})).join(", ")}},{key:"getDaysNameMinimizedElement",value:function(t){var n=e.getAncestorWithClass(t,"hide-control");if(!n)return null;var r=e.getChildWithClass(n,"hide-button");return r?e.getChildWithClass(r,"days-name-minimized"):null}},{key:"addSlideEffect",value:function(t,n){var a=r(t.children,1)[0];if(a&&"slider"===a.className){window.addEventListener("mousemove",s),e.removeSlideEffect.handleSlideEvent=s;var i=window.getComputedStyle(a.parentElement),o=parseInt(i.width,10),l=parseInt(i.borderRightWidth,10),c=parseInt(window.getComputedStyle(a).width,10);a.maxOffsetX=o-c-2*l,a.startScreenX=n.screenX,a.startOffsetX=parseInt(window.getComputedStyle(a).marginLeft,10)||0,a.offsetX=a.startOffsetX,a.slided=!1,a.started=!0}function s(t){e.buttonSlide(a,t)}}},{key:"removeSlideEffect",value:function(t){window.removeEventListener("mousemove",e.removeSlideEffect.handleSlideEvent);var n=r(t.children,1)[0];if(n&&n.started){var a=n.offsetX>n.maxOffsetX/2;n.slided||(a=!a),e.changeOnOffButtonStatus(t,a?"on":"off"),n.setAttribute("style","")}}},{key:"buttonSlide",value:function(t,n){var r=n.screenX-t.startScreenX;e.slide(t,r)}},{key:"slide",value:function(t,n){if(t&&"number"==typeof n){if(!n)return;var r=t.startOffsetX+parseInt(n,10),a=r<0?0:r>=t.maxOffsetX?t.maxOffsetX:r;t.style.marginLeft="".concat(a,"px"),t.slided=!0,t.offsetX=a;var i=t.offsetX>t.maxOffsetX/2;e.changeOnOffButtonStatus(t.parentElement,i?"on":"off")}}},{key:"addDiscSelector",value:function(t,n){if(t&&n){window.addEventListener("mousemove",a),t.handleDiscSelectorMove=a;var r=t.parentElement.getBoundingClientRect();t.parentX=r.left+r.width/2,t.parentY=r.top+r.height/2,t.started=!0}function a(n){t.className.indexOf("hour-selector-disc")>=0?e.handleHourDiscMovement(t,n):e.handleMinuteDiscMovement(t,n)}}},{key:"removeDiscSelector",value:function(e){e&&e.started&&(window.removeEventListener("mousemove",e.handleDiscSelectorMove),e.started=!1)}},{key:"handleHourDiscMovement",value:function(t,n){var r=e.getAngle(t.parentX,t.parentY,n.clientX,n.clientY),a=e.formatAngleToHour(r),i=Math.round(a*(12/360))||12,o=t.parentElement.parentElement.parentElement;o.setAttribute("data-hour",i);var l=e.getChildWithClass(o,"time-container");e.getChildWithClass(l,"hour").innerText=i}},{key:"handleMinuteDiscMovement",value:function(t,n){var r=e.getAngle(t.parentX,t.parentY,n.clientX,n.clientY),a=e.formatAngleToHour(r),i=Math.round(a*(60/360)),o=60===i?0:i,l=t.parentElement.parentElement.parentElement;l.setAttribute("data-minute",o);var c=e.getChildWithClass(l,"time-container");e.getChildWithClass(c,"minute").innerText=o<10?"0".concat(o):o}},{key:"getAngle",value:function(e,t,n,r){var a=n-e,i=t-r,o=360/(2*Math.PI),l=Math.atan(Math.abs(i)/Math.abs(a))*o,c=a>=0&&i>=0?l:a<=0&&i>=0?90-l+90:a<=0&&i<=0?l+180:90-l+270;return Math.round(c)}},{key:"formatAngleToHour",value:function(e){return(360-e+90)%360}},{key:"handleSelectorDiscClick",value:function(t){t.addEventListener("mousedown",(function(n){e.addDiscSelector(t,n),t.parentElement.setAttribute("data-active","true"),e.handleMouseupAfterSelectorDiscMousedown(t)}))}},{key:"handleMouseupAfterSelectorDiscMousedown",value:function(t){window.addEventListener("mouseup",(function n(){e.removeDiscSelector(t),t.parentElement.setAttribute("data-active","false");var r=e.getAncestorWithClass(t,"clock-settings");r.setAttribute("data-skip-animation","false"),r.setAttribute("data-select","minute"),window.removeEventListener("mouseup",n)}))}},{key:"handleClockSettingsDone",value:function(t){var n=e.getAncestorWithClass(t,"clock-settings");n.setAttribute("data-select","hour");var r=n.getAttribute("data-hour"),a=n.getAttribute("data-minute"),i=n.getAttribute("data-am-pm"),o="".concat(r,":").concat(a<10?"0".concat(a):a),l=e.getAncestorWithClass(t,"clock-container"),c=e.getChildWithClass(l,"always-visible"),s=e.getChildWithClass(c,"time");e.getChildWithClass(s,"hour-minute").innerText=o,e.getChildWithClass(s,"am-pm").innerText=i.toUpperCase(),l.setAttribute("data-show-settings","false"),l.setAttribute("data-status","on")}},{key:"changeHourOnClockSettings",value:function(t,n){if(t){var r=parseInt(n,10);t.setAttribute("data-hour","".concat(n));var a=e.getChildWithClass(t,"time-container");if(a){var i=e.getChildWithClass(a,"hour");i&&(i.innerText="".concat(r))}}}},{key:"changeMinuteOnClockSettings",value:function(t,n){if(t){var r=parseInt(n,10);t.setAttribute("data-minute","".concat(n));var a=e.getChildWithClass(t,"time-container");if(a){var i=e.getChildWithClass(a,"minute");i&&(i.innerText=r<10?"0".concat(r):"".concat(r))}}}}],(n=null)&&a(t.prototype,n),i&&a(t,i),e}();document.querySelectorAll(".clock-container .hide-button").forEach((function(e){return e.addEventListener("click",i.showHideAlarmContent)})),document.querySelectorAll(".clock-container .on-off").forEach((function(e){e.addEventListener("mousedown",(function(t){i.addSlideEffect(e,t),window.addEventListener("mouseup",(function t(){i.removeSlideEffect(e),window.removeEventListener("mouseup",t)}))}))})),document.querySelectorAll(".clock-container .delete-field").forEach((function(e){return e.addEventListener("click",i.deleteAlarm)})),document.querySelectorAll(".clock-container .clock-name").forEach((function(e){return e.addEventListener("change",i.updateClockName)})),document.querySelectorAll(".clock-container .repeat").forEach((function(e){return e.addEventListener("click",i.handleRepeatSelection)})),document.querySelectorAll(".clock-container .day").forEach((function(e){return e.addEventListener("click",i.handleDaySelection)})),document.querySelectorAll(".clock-settings .hour-selector-disc").forEach(i.handleSelectorDiscClick),document.querySelectorAll(".clock-settings .minute-selector-disc").forEach((function(e){e.addEventListener("mousedown",(function(t){i.addDiscSelector(e,t),e.parentElement.setAttribute("data-active","true")})),window.addEventListener("mouseup",(function(){i.removeDiscSelector(e),e.parentElement.setAttribute("data-active","false")}))})),document.querySelectorAll(".clock-settings .disc-container .am-button").forEach((function(e){e.addEventListener("click",(function(){return e.parentElement.parentElement.setAttribute("data-am-pm","am")}))})),document.querySelectorAll(".clock-settings .disc-container .pm-button").forEach((function(e){e.addEventListener("click",(function(){return e.parentElement.parentElement.setAttribute("data-am-pm","pm")}))})),document.querySelectorAll(".clock-settings .time-container .hour").forEach((function(e){e.addEventListener("click",(function(){var t=i.getAncestorWithClass(e,"clock-settings");t.setAttribute("data-select","hour"),t.setAttribute("data-skip-animation","false")}))})),document.querySelectorAll(".clock-settings .time-container .minute").forEach((function(e){e.addEventListener("click",(function(){var t=i.getAncestorWithClass(e,"clock-settings");t.setAttribute("data-select","minute"),t.setAttribute("data-skip-animation","false")}))})),document.querySelectorAll(".clock-container .always-visible .time").forEach((function(e){e.addEventListener("click",(function(){e.parentElement.parentElement.setAttribute("data-show-settings","true")}))})),document.querySelectorAll(".settings-wrapper .clock-settings .done-container").forEach((function(e){e.addEventListener("click",(function(){return i.handleClockSettingsDone(e)}))})),document.querySelectorAll(".settings-wrapper").forEach((function(e){e.addEventListener("mousedown",(function(t){"settings-wrapper"===t.target.className&&e.parentElement.setAttribute("data-show-settings","false")}))})),document.querySelectorAll(".clock-settings .hour-disc .hour").forEach((function(e){var t=parseInt(e.innerText,10),n=i.getAncestorWithClass(e,"clock-settings");e.addEventListener("mousedown",(function(r){n.setAttribute("data-skip-animation","true"),i.changeHourOnClockSettings(n,t);var a=i.getAncestorWithClass(e,"hour-disc"),o=i.getChildWithClass(a,"hour-selector-disc");i.addDiscSelector(o,r),o.parentElement.setAttribute("data-active","true"),i.handleMouseupAfterSelectorDiscMousedown(o)}))})),document.querySelectorAll(".clock-settings .hour-disc .minute").forEach((function(e){var t=parseInt(e.innerText,10),n=i.getAncestorWithClass(e,"clock-settings");e.addEventListener("mousedown",(function(r){n.setAttribute("data-skip-animation","true"),i.changeMinuteOnClockSettings(n,t);var a=i.getAncestorWithClass(e,"hour-disc"),o=i.getChildWithClass(a,"minute-selector-disc");i.addDiscSelector(o,r),o.parentElement.setAttribute("data-active","true"),i.handleMouseupAfterSelectorDiscMousedown(o)}))}))}]);